

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Getting Started &mdash; panda_core_data  documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="CoreData" href="../api/core_data.html" />
    <link rel="prev" title="Welcome to PandaCoreData’s documentation!" href="../index.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> panda_core_data
          

          
          </a>

          
            
            
              <div class="version">
                0.0.1.dev8
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Tutorial</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Getting Started</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#installation">Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#quick-start">Quick Start</a></li>
<li class="toctree-l2"><a class="reference internal" href="#data-types">Data Types</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#models">Models</a></li>
<li class="toctree-l3"><a class="reference internal" href="#raws">Raws</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#data-core">Data Core</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">API</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../api/core_data.html">CoreData</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/custom_exceptions.html">Exceptions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/data_type.html">Data Types</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/storage.html">Storages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/utils.html">Utils</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">panda_core_data</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>Getting Started</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/tutorial/index.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="contents topic" id="contents">
<p class="topic-title first">Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#getting-started" id="id1">Getting Started</a></p>
<ul>
<li><p><a class="reference internal" href="#installation" id="id2">Installation</a></p></li>
<li><p><a class="reference internal" href="#quick-start" id="id3">Quick Start</a></p></li>
<li><p><a class="reference internal" href="#data-types" id="id4">Data Types</a></p>
<ul>
<li><p><a class="reference internal" href="#models" id="id5">Models</a></p></li>
<li><p><a class="reference internal" href="#raws" id="id6">Raws</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#data-core" id="id7">Data Core</a></p></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="getting-started">
<h1><a class="toc-backref" href="#id1">Getting Started</a><a class="headerlink" href="#getting-started" title="Permalink to this headline">¶</a></h1>
<p>First of all we need to install the library so we can use it! So here we go:</p>
<div class="section" id="installation">
<h2><a class="toc-backref" href="#id2">Installation</a><a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h2>
<p>Python have a lot of options if you want to install a package. Since the library is available in
Pypi repository all you need to run most of the time is:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pip install panda_core_data
</pre></div>
</div>
<p>That command should work with Windows, Mac or Linux.</p>
</div>
<div class="section" id="quick-start">
<h2><a class="toc-backref" href="#id3">Quick Start</a><a class="headerlink" href="#quick-start" title="Permalink to this headline">¶</a></h2>
<p>Once installed, the following command is available:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>panda_core_data_commands -o folder_name
</pre></div>
</div>
<p>Which will create all the necessary folder structure and a example
<a class="reference internal" href="../api/data_type.html#panda_core_data.model.Model" title="panda_core_data.model.Model"><code class="xref py py-class docutils literal notranslate"><span class="pre">Model</span></code></a> together with their raws inside the supplied <cite>folder_name</cite>.</p>
</div>
<div class="section" id="data-types">
<h2><a class="toc-backref" href="#id4">Data Types</a><a class="headerlink" href="#data-types" title="Permalink to this headline">¶</a></h2>
<p>The library has mostly 4 types of data structures, <a class="reference internal" href="../api/data_type.html#panda_core_data.model.Model" title="panda_core_data.model.Model"><code class="xref py py-class docutils literal notranslate"><span class="pre">Model</span></code></a> and
<a class="reference internal" href="../api/data_type.html#panda_core_data.model.Template" title="panda_core_data.model.Template"><code class="xref py py-class docutils literal notranslate"><span class="pre">Template</span></code></a>, and then we have
their raw files being <em>raw templates</em> and <em>raw models</em>.</p>
<p>Once you create a class and inherit a <a class="reference internal" href="../api/data_type.html#panda_core_data.model.Model" title="panda_core_data.model.Model"><code class="xref py py-class docutils literal notranslate"><span class="pre">Model</span></code></a> or
<a class="reference internal" href="../api/data_type.html#panda_core_data.model.Template" title="panda_core_data.model.Template"><code class="xref py py-class docutils literal notranslate"><span class="pre">Template</span></code></a>, the class is automatically transformed into a
<a class="reference external" href="https://docs.python.org/3/library/dataclasses.html">dataclass</a>.</p>
<div class="section" id="models">
<h3><a class="toc-backref" href="#id5">Models</a><a class="headerlink" href="#models" title="Permalink to this headline">¶</a></h3>
<p>Models are pretty much what you will use inside your game to use the data. You can instance
multiple times <a class="reference internal" href="../api/data_type.html#panda_core_data.model.Model" title="panda_core_data.model.Model"><code class="xref py py-class docutils literal notranslate"><span class="pre">Model</span></code></a> classes each containing a different set of
data and accessing them based on how you created the model. But by default you set the fields like
you do with a <cite>dataclass</cite> and  the automatic finders will create a model instance with the data
from the raw.</p>
<p>For learning purposes. Let’s consider you executed the <a class="reference external" href="#quick-start">quick start command</a>
with the folder named <cite>tutorial</cite>. Then go to the file
<cite>/tutorial/mods/core/models/example_model.py</cite> rename however you like and write it like this:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">panda_core_data.model</span> <span class="kn">import</span> <span class="n">Model</span>

<span class="k">class</span> <span class="nc">Items</span><span class="p">(</span><span class="n">Model</span><span class="p">,</span> <span class="n">data_name</span><span class="o">=</span><span class="s2">&quot;items&quot;</span><span class="p">):</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">description</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">cost</span><span class="p">:</span> <span class="nb">int</span>
</pre></div>
</div>
<p>Mostly, we are just setting the <cite>data_name</cite> parameter to make the <strong>I</strong> in low caps there’s more
parameters <a class="reference external" href="/api/data_type.html#datatype">available here</a> in
<code class="xref py py-meth docutils literal notranslate"><span class="pre">panda_core_data.data_type.DataType._add_into()</span></code>. Also remember, if you inherit
<a class="reference internal" href="../api/data_type.html#panda_core_data.model.Template" title="panda_core_data.model.Template"><code class="xref py py-class docutils literal notranslate"><span class="pre">Template</span></code></a> or <a class="reference internal" href="../api/data_type.html#panda_core_data.model.Model" title="panda_core_data.model.Model"><code class="xref py py-class docutils literal notranslate"><span class="pre">Model</span></code></a>, the class will
turn into a dataclass, so you can instance the model like this for example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">Items</span><span class="p">(</span><span class="s2">&quot;Copper&quot;</span><span class="p">,</span> <span class="s2">&quot;Fragile material&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="c1"># The args are in the field order</span>
<span class="n">Items</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;Copper&quot;</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Fragile material&quot;</span><span class="p">,</span> <span class="n">cost</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span> <span class="c1"># as kwargs</span>
</pre></div>
</div>
<p>But that’s not the point of our library, the point is to have easy way to load data from raw
files. So let’s go to the folder <cite>/tutorial/mods/core/raws/models/</cite> and rename the folder
<cite>model_name</cite> to the name of your model which in our current case is <cite>items</cite> if you didn’t set the
param <cite>data_name</cite> the model name will be <cite>Items</cite> with a capital <strong>I</strong> because the library will set
the same name as the class.</p>
<p>Since models can be instanced multiple times, it will read all raw files inside the folder that
have the same name as the model (if it’s inside the folder <cite>/mods/core/raws/models/</cite> in this case)
and load a instance with the data of the raw.</p>
</div>
<div class="section" id="raws">
<h3><a class="toc-backref" href="#id6">Raws</a><a class="headerlink" href="#raws" title="Permalink to this headline">¶</a></h3>
<p>The raws are pretty much plain text files that holds data for our instances. For now we only
support the format yaml but soon support for xml and json will be added.</p>
<p>So let’s go to the file <cite>/tutorial/mods/core/raws/models/items/example_model_raw.yaml</cite> rename it to
whatever name you’d like, for the tutorial let’s name it <cite>copper.yaml</cite> and set it’s contents to:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">data</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="s">&quot;Copper&quot;</span>
    <span class="p p-Indicator">-</span> <span class="nt">description</span><span class="p">:</span> <span class="s">&quot;Fragile</span><span class="nv"> </span><span class="s">material&quot;</span>
    <span class="p p-Indicator">-</span> <span class="nt">value</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1</span>
</pre></div>
</div>
<p>And the data of our instance will be the same as the above.</p>
<p>To load the raw you can do like this:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">copper</span> <span class="o">=</span> <span class="n">Items</span><span class="o">.</span><span class="n">instance_from_raw</span><span class="p">(</span><span class="s2">&quot;/tutorial/mods/core/raws/models/items/copper.yaml&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Needless to say you need to fix the path to the file. Because I’m not in your computer and I don’t
know if you use gentoo with a custom kernel having the root folder named <cite>popcorn</cite> (I don’t even
know if it’s possible to change the root folder, but if I could I would totally name it to popcorn).</p>
<p>Also, in this case, the raw file can be anywhere in the disk, you don’t need to worry with folder
structure. It can be inside the folder <cite>popcorn/</cite> if you’d like.</p>
<p>But guess what, we don’t need to worry to call every single raw or even to import our model inside
our game, because we have:</p>
</div>
</div>
<div class="section" id="data-core">
<h2><a class="toc-backref" href="#id7">Data Core</a><a class="headerlink" href="#data-core" title="Permalink to this headline">¶</a></h2>
<p><a class="reference internal" href="../api/core_data.html#panda_core_data.DataCore" title="panda_core_data.DataCore"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataCore</span></code></a> is the class we use to access all the types, instances and data.
It’s use is (hopefully) simple. Let’s edit the file <cite>/tutorial/main.py</cite> to this:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">os.path</span> <span class="kn">import</span> <span class="n">join</span><span class="p">,</span> <span class="n">dirname</span><span class="p">,</span> <span class="n">abspath</span>
<span class="kn">from</span> <span class="nn">dataclasses</span> <span class="kn">import</span> <span class="n">fields</span>
<span class="kn">from</span> <span class="nn">panda_core_data</span> <span class="kn">import</span> <span class="n">data_core</span>

<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="c1"># Let&#39;s automatically get the folder named Popco- mods, I mean.</span>
    <span class="n">mods_folder</span> <span class="o">=</span> <span class="n">join</span><span class="p">(</span><span class="n">dirname</span><span class="p">(</span><span class="n">abspath</span><span class="p">(</span><span class="vm">__file__</span><span class="p">)),</span> <span class="s2">&quot;mods&quot;</span><span class="p">)</span>

    <span class="c1"># Templates are something we will cover in the future, but for now</span>
    <span class="c1"># let&#39;s set them to False</span>
    <span class="n">data_core</span><span class="p">(</span><span class="n">mods_folder</span><span class="p">,</span> <span class="n">templates_folder</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>

    <span class="c1"># If we use a for with a model class, we will get all instances of it.</span>
    <span class="k">for</span> <span class="n">instance</span> <span class="ow">in</span> <span class="n">data_core</span><span class="o">.</span><span class="n">get_model_type</span><span class="p">(</span><span class="s2">&quot;items&quot;</span><span class="p">):</span>
        <span class="k">print</span><span class="p">(</span><span class="n">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Values for: {instance.name}&quot;</span><span class="p">)</span>
        <span class="c1"># Remember that I said our class turned into a dataclass?</span>
        <span class="c1"># We can iter along the fields now.</span>
        <span class="k">for</span> <span class="n">field</span> <span class="ow">in</span> <span class="n">fields</span><span class="p">(</span><span class="n">instance</span><span class="p">):</span>
             <span class="k">print</span><span class="p">(</span><span class="n">f</span><span class="s2">&quot;t{field.name}: {getattr(instance, field.name)}&quot;</span><span class="p">)</span>


<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="n">main</span><span class="p">()</span>
</pre></div>
</div>
<p>This will output the values of our raw file without calling it, without even importing our model
and etc etc etc. So much if you like you can create another file in
<cite>/tutorial/mods/core/raws/models/items/</cite> and the instance will automatically be created.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../api/core_data.html" class="btn btn-neutral float-right" title="CoreData" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../index.html" class="btn btn-neutral float-left" title="Welcome to PandaCoreData’s documentation!" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Leandro (Cerberus1746) Benedet Garcia

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>